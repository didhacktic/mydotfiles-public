#!/usr/bin/env bash
# üîÑ Met √† jour les liens Stow pour les d√©p√¥ts public et priv√© Ubuntu-Gnome

set -euo pipefail

# Emplacements de tes d√©p√¥ts
PUBLIC="$HOME/.mydotfiles/mydotfiles-public/Ubuntu-Gnome"
PRIVATE="$HOME/.mydotfiles/mydotfiles-private/Ubuntu-Gnome"

echo "üîç V√©rification des r√©pertoires..."
for dir in "$PUBLIC" "$PRIVATE"; do
  if [ ! -d "$dir" ]; then
    echo "‚ùå Dossier introuvable : $dir"
    exit 1
  fi
done

echo "üîÑ Application des liens Stow depuis les d√©p√¥ts :"
echo "  - Public : $PUBLIC"
echo "  - Priv√©  : $PRIVATE"
echo

# D'abord le public (pour les configs globales)
stow -d "$PUBLIC" -t "$HOME" .

# Puis le priv√© (pour les fichiers sensibles, qui peuvent √©craser le public)
stow -d "$PRIVATE" -t "$HOME" .

echo
echo "‚úÖ Liens Stow mis √† jour avec succ√®s."

